---
import grilles from "../assets/grilles.webp";

interface Props {
  projet: any;
}

const { projet } = Astro.props;
---

{
  projet.technologies && (
    <section
      class="w-full h-fit bg-center bg-cover flex flex-col items-center py-12 sm:py-16 md:py-24 lg:py-32 px-3 sm:px-4 relative"
      id="developpement"
      style={`background-image: url(${grilles.src});`}
    >
      <h2 class="h2 relative z-10">
        &lt;LE <span class="text-primary">DÃ‰VELOPPEMENT</span>&gt;
      </h2>
      <div class="w-full max-w-7xl relative z-10 mt-6 sm:mt-8 md:mt-10 lg:mt-12">
        <div class="grid gap-3 sm:gap-4 md:gap-5 lg:gap-6 grid-cols-1 lg:grid-cols-3">
          {/* Colonne gauche - Technologies */}
          <div class="w-full flex flex-col gap-3 sm:gap-4">
            {projet.technologies && projet.technologies.length > 0 && (
              <div class="w-full grid grid-cols-2 gap-3 sm:gap-4">
                {projet.technologies.map((tech: any, index: number) => (
                  <div
                    class="w-full h-auto rounded-2xl sm:rounded-3xl relative border border-white/10 shadow-[0_0_30px_rgba(255,255,255,0.08),inset_-5px_-5px_15px_rgba(0,0,0,0.5)] overflow-hidden backdrop-blur-[50px] flex flex-col items-center justify-center p-4 sm:p-6 min-h-[120px] transition-all duration-300 hover:shadow-lg"
                    style="background: radial-gradient(circle at center, rgba(53, 63, 82, 0.75) 0%, rgba(53, 63, 82, 0.75) 38%, rgba(45, 54, 71, 0.75) 100%);"
                  >
                    <div class="noise absolute inset-0" />
                    <div class="absolute inset-0 pointer-events-none bg-linear-to-t from-black/60 to-transparent" />
                    <div class="w-full relative z-20 flex flex-col items-center justify-center gap-2">
                      {tech.logo && (
                        <img
                          src={tech.logo}
                          alt={tech.nom || "Technology"}
                          class="w-12 h-12 sm:w-14 sm:h-14 object-contain"
                        />
                      )}
                      <p class="text-center text-xs sm:text-sm font-medium">
                        {tech.nom}
                      </p>
                    </div>
                  </div>
                ))}
              </div>
            )}
          </div>

          {/* Colonne droite - Contraintes, Approche, Apprentissage */}
          <div class="w-full flex flex-col gap-3 sm:gap-4 lg:col-span-2">
            {/* Contraintes */}
            {projet.contraintes && (
              <div
                class="w-full h-auto sm:h-auto md:h-auto lg:h-1/3 rounded-2xl sm:rounded-3xl relative border border-white/10 shadow-[0_0_30px_rgba(255,255,255,0.08),inset_-5px_-5px_15px_rgba(0,0,0,0.5)] overflow-hidden backdrop-blur-[50px]"
                style="background: radial-gradient(circle at center, rgba(53, 63, 82, 0.75) 0%, rgba(53, 63, 82, 0.75) 38%, rgba(45, 54, 71, 0.75) 100%);"
              >
                <div class="noise absolute inset-0" />
                <div class="absolute inset-0 pointer-events-none bg-linear-to-t from-black/60 to-transparent" />
                <div class="relative z-20 w-full h-full p-4 sm:p-6 md:p-8 flex flex-col justify-start gap-2">
                  <h3 class="h4 sm:h3">Contraintes</h3>
                  <p class="text-sm sm:text-base leading-relaxed">
                    {projet.contraintes}
                  </p>
                </div>
              </div>
            )}

            {/* Approche et Apprentissage */}
            <div class="w-full flex flex-col sm:flex-row gap-3 sm:gap-4 lg:h-2/3">
              {/* Approche */}
              {projet.approche && (
                <div
                  class="w-full sm:flex-1 h-auto rounded-2xl sm:rounded-3xl relative border border-white/10 shadow-[0_0_30px_rgba(255,255,255,0.08),inset_-5px_-5px_15px_rgba(0,0,0,0.5)] overflow-hidden backdrop-blur-[50px] flex flex-col justify-between p-4 sm:p-6 md:p-8 transition-all duration-300"
                  style="background: radial-gradient(circle at center, rgba(53, 63, 82, 0.75) 0%, rgba(53, 63, 82, 0.75) 38%, rgba(45, 54, 71, 0.75) 100%);"
                >
                  <div class="noise absolute inset-0" />
                  <div class="absolute inset-0 pointer-events-none bg-linear-to-t from-black/60 to-transparent" />
                  <div class="w-full relative z-20 flex flex-col justify-start gap-2">
                    <h3 class="h4 sm:h3">Approche</h3>
                    <p class="text-sm sm:text-base leading-relaxed">
                      {projet.approche}
                    </p>
                  </div>
                </div>
              )}

              {/* Apprentissage */}
              {projet.apprentissage && (
                <div
                  class="w-full sm:flex-1 h-auto rounded-2xl sm:rounded-3xl relative border border-white/10 shadow-[0_0_30px_rgba(255,255,255,0.08),inset_-5px_-5px_15px_rgba(0,0,0,0.5)] overflow-hidden backdrop-blur-[50px] flex flex-col justify-between p-4 sm:p-6 md:p-8 transition-all duration-300"
                  style="background: radial-gradient(circle at center, rgba(53, 63, 82, 0.75) 0%, rgba(53, 63, 82, 0.75) 38%, rgba(45, 54, 71, 0.75) 100%);"
                >
                  <div class="noise absolute inset-0" />
                  <div class="absolute inset-0 pointer-events-none bg-linear-to-t from-black/60 to-transparent" />
                  <div class="w-full relative z-20 flex flex-col justify-start gap-2">
                    <h3 class="h4 sm:h3">Apprentissage</h3>
                    <p class="text-sm sm:text-base leading-relaxed">
                      {projet.apprentissage}
                    </p>
                  </div>
                </div>
              )}
            </div>
          </div>
        </div>
      </div>
    </section>
  )
}
